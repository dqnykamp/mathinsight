{% extends "micourses/assessments/assessment_base.html" %}

{% block extrastyle2 %}
<style>
  p {
      margin: 0em;
  }
</style>


{% endblock %}


{% block content %}
<h3>{{ the_assessment_name }}</h3>

<p>Generate an assessment</p>

<form action="{% url 'miassess:generate_course_attempt' content_id=threadcontent.id %}" method="post">
{% csrf_token %}
{{form.as_p}}

{% if course_content_attempts %}
<p style="margin-top:2em;">Select previous attempt to avoid their questions (<a href="{% url 'micourses:course_content_record' course_code=threadcontent.course.code content_id=threadcontent.id %}">edit attempts</a>).</p>
<ul style="margin-top:0em; list-style: none; text-indent: -1.2em;">
{% for cca_dict in course_content_attempts %}
<li><input type="checkbox" name="cca_ids" value="{{cca_dict.cca.id}}" {% if cca_dict.selected %}checked {%endif%}> <a href="{% url 'miassess:assessment' course_code=threadcontent.course.code assessment_code=assessment.code%}?content_attempt={{cca_dict.cca.id}}">{{threadcontent.get_title}}, version {{cca_dict.cca.version_string}}, seed: {{cca_dict.cca.seed}}, date: {{cca_dict.cca.attempt_began}}</a><br/>
Question numbers: {{cca_dict.question_numbers}}
</li> 
{% endfor %}
</ul>
{% endif %}
<p style="margin-top: 1em;"><input type="submit" value="Generate" /></p>
</form>

{% endblock %}
