{% extends "midocs/page_base.html" %}{% load mi_tags %}{% block content %}
{% index_entry "function" "composition" %}
{% index_entry "function machine" "composition" %}
{% index_entry "composition" "of functions" %}
{% title "Function machine composition" %}
{% description "Composing two functions simply means connecting together their respective function machines." %}

<p>The {% intlink function_composition %}composition{%endintlink%} of two functions $f$ and $g$ is the function formed by taking the output of the function $g$ and using that as the input to the function $f$.  If we represent both $f$ and $g$ as {% intlink function_machine %}function machines{%endintlink%}, the composition would look like the following figure.</p>

{% image "function_machines_composed" %}

<p>The function machine metaphor makes clear one important condition for a composition to work.  Whatever comes out of the output chute of $g$ had better be able to fit into the input funnel of $f$.  In this case, $g$ spits out cubes and $f$ takes in cubes, so the composition works.  In mathematical terms, we need to make sure that the {% intlink range_definition %}range{%endintlink%} of $g$ is contained in the {% intlink domain_definition%}domain{%endintlink%} of $f$.  Otherwise, the composition isn't defined; the output of $g$ would get stuck in the funnel of $f$, and we'd have a disastrous result.</p>

<p>If the variable $x$ represents the input to the function $g$ (the sphere), then its output (the cube) would be $g(x)$.  Then, we use the cube $g(x)$ as the input to $f$ so that its output (the faceted ball) is $f(g(x))$.</p>

<p>We recommend using the formula $f(g(x))$ to think about the composition of $f$ and $g$, as there is no ambiguity in the order in which you apply the functions.  It is clear that $g(x)$ is the input to $f$.  Sometimes, though, we want to denote the composed function itself without any reference to its input $x$.  In this case, we use the notation $f \circ g$.  The function $f \circ g$ is represented by the large function machine whose input is the sphere (the input to $g$) and whose output is the faceted ball (the output of $f$).</p>

{% image "function_machines_composed_combined" %}

<p>The challenge with the notation $f \circ g$ is that it is hard to correctly remember which function is applied first.  The order is backwards of what you might think.  The notation $f \circ g$ means you apply $g$ first and then $f$.  If we take the function $f \circ g$, and put in the input $x$, the function machine will spit out $f(g(x))$, which we can write as $(f \circ g)(x) = f(g(x))$.  You can see why we recommend sticking with the $f(g(x))$ notation if you can.</p>

<p>To further explore how function composition works, you can check out some {% intlink function_composition_examples %}examples{%endintlink%}.</p>

{% endblock %}
