
{% navigation_tag "function" "The function" %}
<h4>Properties of an example change of variables function</h4>

<p>A common {% intlink "double_integral_change_variables_introduction" %}change of variables{%endintlink%} in double integrals involves using the {% intlink "polar_coordinates_mapping" %}polar coordinate mapping{%endintlink%}, as illustrated at the beginning of a {% intlink "double_integral_change_variable_examples" %}page of examples{%endintlink%}.  Here we illustrate another change of variables as a further demonstration of how such transformations $(x,y) = \cvarf(\cvarfv,\cvarsv)$ map one region to another.  We use the change of variables function
\begin{align}
(x,y) = \cvarf(\cvarfv,\cvarsv) = (\cvarfv^2-\cvarsv^2, 2\cvarfv\cvarsv).
  \label{transformation}
\end{align}
</p>

<p>We first illustrate illustrate the properties of this change of variable function with a series of interactive applets.  We then give a <a href="#concreteproblem">concrete problem</a> using the function.</p>

<p>One step of changing variables is determining how the transformation $\cvarf$ maps a region $\dlr^*$ in the $\cvarfv\cvarsv$-plane onto the $xy$-plane.  The following applet illustrates this mapping for the case when $\dlr^*$ is a rectangle.  You can change the $\dlr^*$ to explore how it is stretched and twisted into an irregularly shaped region $\dlr$.</p>

{% boxedapplet "nonlinear_2d_change_variables_map" %}

<p>Notice how the boundaries of the $\dlr$ are parabolas.  For example, the horizontal boundaries (red and green) of the rectangle $\dlr^*$ correspond to lines $\cvarsv=c$ for some constant $c$.  Assuming $c \ne 0$, we can solve the second component $(y=2\cvarfv\cvarsv)$ of equation \eqref{transformation} for $\cvarfv$, obtaining $\cvarfv = y/(2c)$.  Plugging that result into the first component $(x=\cvarfv^2-\cvarsv^2)$ of  equation \eqref{transformation}, we find that $\cvarsv=c$ corresponds to the parabola $x=y^2/(4c^2)-c^2$.  When $c$ gets very small, the parabola becomes very steep, as you can notice by, for example, moving the green boundary of $\dlr^*$ close to the $u$-axis.  The verticle edges (purple and cyan) of $\dlr^*$ similarly map to parabolic edges of $\dlr$.</p>

<p>Another step in changing variables is determining how the map changes area, i.e., the amount that the map stretches or shrinks $\dlr^*$ as it transforms it into $\dlr$.  This stretching is captured by the area expansion factor $| \det
  \jacm{\cvarf}(\cvarfv,\cvarsv)|$ from {% intlink "double_integral_change_variables_introduction" equation="cvarformula" %}equation (tag) of the introductory page{% endintlink %}.  For out change of variables function, the matrix of partial derivatives is
\begin{align*}
  \jacm{\cvarf}(\cvarfv,\cvarsv)
  &amp;= \left(\begin{array}{rr}
  2\cvarfv &amp;-2\cvarsv \\ 2\cvarsv &amp; 2\cvarfv
  \end{array}\right)
\end{align*}
so that the area expansion factor is
\begin{align*}
  |\det \jacm{\cvarf}(\cvarfv,\cvarsv) |
  &amp;= |(2\cvarfv)(2\cvarfv) - (-2\cvarsv)(2\cvarsv)| =
  4\cvarfv^2 + 4\cvarsv^2.
\end{align*}
The amount of stretching by $\cvarf$ increases with distance from the origin of the $\cvarfv\cvarsv$-plane.</p>

<p>The following applet allows you to explore how $\cvarf$ is changing area in the irregular region $\dlr$ compared to area in the rectangle $\dlr^*$.  See if you can convince yourself that the above formula seems correct.</p>

{% boxedapplet "nonlinear_2d_change_variables_map_area_transformation" %}

<p>To further drive home the concept that $\cvarf$ is taking the rectangle $\dlr^*$ and stretching it into the irregular region $\dlr$, we have one more applet that shows this stretching as an animation.  In the right panel, the animation interpolates between $\dlr^*$ and $\dlr$, emphasizing the action of the transformation from $(\cvarfv,\cvarsv)$ coordinates to $(x,y)$ coordinates.</p>

{% boxedapplet "nonlinear_2d_change_variables_map_animation" %}

<p>Since in this applet, the rectangle $\dlr^*$ is not restricted to the upper half-plane $\cvarfv>0$, you can increase the size of $\dlr^*$ so that the mapping of $\cvarf$ is no longer one-to-one.  By making $\dlr^*$ be a large portion of any of the half-planes of the $\cvarfv\cvarsv$-plane (such as the half-plane $\cvarfv>0$), you can convince yourself that $\cvarf$ takes any of the half-planes, stretches it around an axis of the $xy$-plane, and maps it to the whole $xy$-plane.  If $\dlr^*$ extends beyond one of the half-planes, then it becomes folded, overlaping itself when it is mapped to $\dlr$.  This overlapping demonstrates that the mapping is not one-to-one.  In this case, $\cvarf$ is not a valid change of variables transformation for $\dlr^*$, and we cannot use {% intlink "double_integral_change_variables_introduction" equation="cvarformula" %}equation (tag) of the introductory page{% endintlink %} to calculate the integral.  (Note that an overlap only in the final $\dlr$, when the blue slider is all the way to the right, is a problem.  The intermediate frames of the animation are artificial and are shown just to guide your eye.)</p>


<p>In the applet, the change of variables is written in component form as $x=\cvarfv^2-\cvarsv^2$ and $y=2\cvarfv\cvarsv$.  You can enter different functions of $\cvarfv$ and $\cvarsv$ in the boxes to explore the behavior of different change of variable functions, such as those from {% intlink "double_integral_change_variable_examples" %}the change of variable example page{%endintlink%}.  If you change the function $\cvarf$, then there may be different conditions on $\dlr^*$ to ensure that the map is one-to-one.</p>

{% navigation_tag "concreteproblem" "Concrete problem" %}
<h4>A concrete problem with the example function</h4>

<p>Evaluate the integral 
$$\iint_\dlr y^2 dA$$
over the region $\dlr$ defined by 
\begin{gather*}
y > 0\\
y^2/16-4 \le x \le y^2/4-1\\
1-y^2/4 \le x \le 4-y^2/16
\end{gather*}
and pictured below.
Use the change of variables $x = \cvarfv^2-\cvarsv^2$, $y=2\cvarfv\cvarsv$.</p>

<p class="centeredImage">{% image "double_integral_change_variable_example_region" %}</p>


<p><b>Solution:</b> Initially, it may seem difficult to determine the region $\dlr^*$ that is mapped onto the given region $\dlr$.  However, as mentioned above, for the given change of variables, when $\cvarsv=c$ for a constant $c \ne 0$, then $x=y^2/(2c)-c^2$.  The two boundaries from the second line are exactly in this form using the constants $c^2=1$ and $c^2=2$.  Choosing to use positive $\cvarsv$, the range $y^2/16-4 \le x \le y^2/4-1$ corresponds to the range $1 \le \cvarsv \le 2$.</p>

<p>On the other hand, one can similarly calculate the when $\cvarfv=d$ for constant $d$, this corresponds to $x=d^2-y^2/(4d^2)$.  The last two inequalities defining $\dlr$ are in this form for $d^2=1$ and $d^2=4$.  Since we require $y>0$ and we have chosen $\cvarsv>0$, we must have $\cvarfv>0$ given that $y=2\cvarfv\cvarsv$.  Therefore, we must choose the range $1 \le \cvarfv \le 2$.</p>

<p>It turns out that our change of variables maps the rectangle $\dlr^*$ defined by $1 \le \cvarsv \le 2$ and $1 \le \cvarfv \le 2$ onto the given region $\dlr$.  You can use the above applets to convince yourself that this is true.</p>

<p>Since we have already calculated above that the area expansion factor is $4\cvarfv^2+4\cvarsv^2$, the rest is a straightforward integration.  Using {% intlink "double_integral_change_variables_introduction" equation="cvarformula" %}equation (tag) of the introductory page{% endintlink %}, the integral is
\begin{align*}
  \iint_\dlr y^2 dA &amp;= \int_1^2\int_1^2 (2\cvarfv\cvarsv)^2 (4\cvarfv^2+4\cvarsv^2)d\cvarfv\,d\cvarsv\\
  &amp;= \int_1^2\int_1^2 16 (\cvarfv^4\cvarsv^2+ \cvarfv^2\cvarsv^4)d\cvarfv\,d\cvarsv\\
  &amp;= \int_1^2 16 \biggl[\frac{1}{5}\cvarfv^5 \cvarsv^2 + \frac{1}{3}\cvarfv^3\cvarsv^4\biggr]_{\cvarfv=1}^{\cvarfv=2} d\cvarsv\\
  &amp;= \int_1^2 16 \biggl(\frac{31}{5} \cvarsv^2 + \frac{7}{3}\cvarsv^4\biggr)d\cvarsv\\
  &amp;= 16 \biggl[\frac{31}{15} \cvarsv^3 + \frac{7}{15}\cvarsv^5\biggr]_{\cvarsv=1}^{\cvarsv=2}\\
  &amp;=\frac{6944}{15}.
\end{align*}</p>

<h4>More examples</h4>

<p>We have more {% intlink "double_integral_change_variable_examples" %}examples{%endintlink%} to help you master changing variables.</p>




