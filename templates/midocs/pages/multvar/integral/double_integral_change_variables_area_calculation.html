
<p>To {% intlink "double_integral_change_variables_introduction" %}change variables{%endintlink%} 
in a double integral such as
$$\iint_\dlr f(x,y) dA,$$
one uses a mapping of the form
$(x,y) = \cvarf(\cvarfv,\cvarsv)$.  This function maps some region $\dlr^*$
in the $(\cvarfv,\cvarsv)$ coordinates into the original region $\dlr$
of the integral in $(x,y)$ coordinates.</p>

<p>As illustrated in the following applet for polar coordinates,
the mapping $\cvarf(\cvarfv,\cvarsv)$ transforms area, as it
stretches or compresses different parts of $\dlr^*$ to map it into $\dlr$.</p>

{% boxedapplet "polar_coordinates_map_rectangle_area_transformation" %}

<p>In the original integral, the relevant area factor $dA$ is in terms of
the area in $\dlr$, i.e., in terms of $x$ and $y$.  If we wish to
change variables and rewrite the integral in terms of $\cvarfv$ and $\cvarsv$,
we need to write the area in $\dlr$ in terms of the new variables $\cvarfv$ and $\cvarsv$.</p>

<p>To calculate how $\cvarf$ transforms area, we chop up the region
$\dlr^*$ into small rectangles of width $\Delta\cvarfv$ and height $\Delta\cvarsv$.
The following figure illustrates how one of these rectangles with lower
left corner $(\cvarfv,\cvarsv)$ might be mapped by some map $\cvarf$ into a 
&ldquo;curvy rectangle&rdquo; with one corner being $\cvarf(\cvarfv,\cvarsv)$.
</p>

<p class="centeredImage">{% image "change_variable_area_transformation" %}</p>

<p>The area of the small rectangle in the $\cvarfv\cvarsv$ plane is
clearly $\Delta\cvarfv\Delta\cvarsv$, but the area of the 
&ldquo;curvy rectangle&rdquo; in the $xy$ plane is not so clear.  
Since the area of the &ldquo;curvy rectangle&rdquo; is what counts for the
double integral, our goal is to calculate an expression for its area.
We'll call this area $\Delta A$ to remind us that the area of the 
&ldquo;curvy rectangle&rdquo; is what the
$dA$ in the integral represents.</p>

<p>Since the {% intlink "double_integral_introduction" %}double integral{%endintlink%}
is defined by a Riemann sum where the size of the rectangles go to zero, 
we don't need an exact expression for the area of the &ldquo;curvy rectangle&rdquo;.
We just need an expression that approaches the correct value 
as the edges of the rectangle $\Delta\cvarfv$ and $\Delta\cvarsv$
go to zero.
</p>

<p>When $\Delta\cvarfv$ and $\Delta\cvarsv$ are small, we can approximate 
the mapping $\cvarf(\cvarfv,\cvarsv)$ with its {% intlink "linear_approximation_multivariable" %}linear approximation{%endintlink%} centered around $(\cvarfv,\cvarsv)$.
Since {% intlink "linear_transformation_definition_euclidean" %}linear transformations{%endintlink%} in two dimensions {% intlink "determinant_linear_transformation" anchor="lintrans2D" %}map parallelograms onto parallelograms{%endintlink%}, we can conclude that the  &ldquo;curvy rectangle&rdquo; must approach a parallelogram for small $\Delta\cvarfv$ and $\Delta\cvarsv$.
</p>

<p>If we approximate the &ldquo;curvy rectangle&rdquo;
as a parallelogram, we just need to know the location 
of three of its vertices.  We already know that the vertex $(\cvarfv,\cvarsv)$
on the small rectangle is mapped onto $\cvarf(\cvarfv,\cvarsv)$.
The adjacent vertices $(\cvarfv+\Delta\cvarfv,\cvarsv)$ and $(\cvarfv,\cvarsv+\Delta\cvarsv)$ on the small rectangle
are mapped to the vertices $\cvarf(\cvarfv+\Delta\cvarfv,\cvarsv)$ and
$\cvarf(\cvarfv,\cvarsv+\Delta\cvarsv)$ on the &ldquo;curvy rectangle&rdquo;.
The vectors from $\cvarf(\cvarfv,\cvarsv)$ to those two points
are just the differences of the pairs of points 
$\cvarf(\cvarfv+\Delta\cvarfv,\cvarsv)-\cvarf(\cvarfv,\cvarsv)$
and $\cvarf(\cvarfv,\cvarsv+\Delta\cvarsv)-\cvarf(\cvarfv,\cvarsv)$.
We approximate the &ldquo;curvy rectangle&rdquo; as the parallelogram
spanned by those two vectors, as illustrated in red in the following figure.</p>

<p class="centeredImage">{% image "change_variable_area_parallelogram" %}</p>

<p>Since we are interested in the limit where $\Delta\cvarfv$ and $\Delta\cvarsv$,
and hence $\Delta A$,
go to zero, we can make another approximation.  
Given the {% intlink "partial_derivative_limit_definition" %}limit definition{%endintlink%} of partial derivatives, we can approximate these vectors in the limit
of small $\Delta\cvarfv$ and $\Delta\cvarsv$ as
\begin{align*}
  \cvarf(\cvarfv+\Delta\cvarfv,\cvarsv)-\cvarf(\cvarfv,\cvarsv)
  &amp;= \frac{\cvarf(\cvarfv+\Delta\cvarfv,\cvarsv)-\cvarf(\cvarfv,\cvarsv)}{\Delta\cvarfv} \Delta\cvarfv\\
  &amp;\approx
  \pdiff{\cvarf}{\cvarfv}(\cvarfv,\cvarsv)\Delta\cvarfv\\
  \cvarf(\cvarfv,\cvarsv+\Delta\cvarsv)-\cvarf(\cvarfv,\cvarsv)
  &amp;= \frac{\cvarf(\cvarfv,\cvarsv+\Delta\cvarsv)-\cvarf(\cvarfv,\cvarsv)}{\Delta\cvarsv} \Delta\cvarsv\\
  &amp;\approx
  \pdiff{\cvarf}{\cvarsv}(\cvarfv,\cvarsv)\Delta\cvarsv.
\end{align*}
We labeled the edges of the parallelogram, above, with these approximations.</p>

<p>Given this parallelogram approximation, we have a simple way to calculate
the approximate area $\Delta A$ of the &ldquo;curvy rectangle&rdquo;.
The area of the parallelogram is the {% intlink "cross_product" %}magnitude
of the cross product{%endintlink%} of the two vectors spanning the parallelogram.
Since the vectors $\pdiff{\cvarf}{\cvarfv}(\cvarfv,\cvarsv)\Delta\cvarfv$
and $\pdiff{\cvarf}{\cvarsv}(\cvarfv,\cvarsv)\Delta\cvarsv$ are two-dimensional,
we view them as 3D vectors with zero third component so that the cross-product
is define.  Since they are 2D, we can also
{% intlink "relationship_determinants_area_volume" anchor="area2d" %}represent this area
more succinctly{%endintlink%} by the $2\times 2$ determinant 
\begin{align*}
  \Delta A &amp;\approx
  \left\| \pdiff{\cvarf}{\cvarfv}\Delta\cvarfv
  \times \pdiff{\cvarf}{\cvarsv}\Delta\cvarsv\right\|
  =
  \left\| \pdiff{\cvarf}{\cvarfv}
  \times \pdiff{\cvarf}{\cvarsv}\right\|\Delta\cvarfv\Delta\cvarsv\\
  &amp;=\left|\det \left(\left[
      \begin{array}{cc}
        \pdiff{\cvarfc_1}{\cvarfv} &amp; \pdiff{\cvarfc_2}{\cvarfv}\\
        \pdiff{\cvarfc_1}{\cvarsv} &amp; \pdiff{\cvarfc_2}{\cvarsv}
      \end{array}
    \right]\right)
 \right|\Delta\cvarfv\Delta\cvarsv.
\end{align*}
</p>

<p>We can simplify this expression even further by observing that the
above matrix inside the determinant is precisely the
{% intlink "derivative_matrix" %}derivative matrix{%endintlink%} 
$\jacm{\cvarf}$ of the map $\cvarf$.  Therefore, the area of the 
&ldquo;curvy rectangle&rdquo; is approximately
\begin{align*}
  \Delta A \approx | \det \jacm{\cvarf}(\cvarfv,\cvarsv)|\Delta\cvarfv\Delta\cvarsv.
\end{align*}
</p>

<p>If we were to form the Riemann sum defining the integral in terms of
$\cvarfv$ and $\cvarsv$, each term in the sum would look like
$$f(\cvarf(\cvarfv,\cvarsv)) |\det \jacm{\cvarf}(\cvarfv,\cvarsv)|\Delta\cvarfv\Delta\cvarsv.$$
Then, letting $\Delta\cvarfv$ and $\Delta\cvarsv$ go to zero, 
we would obtain the integral
$$\iint_\dlr f(x,y) dA = \iint_{\dlr^*} f(\cvarf(\cvarfv,\cvarsv)) |\det \jacm{\cvarf}(\cvarfv,\cvarsv)|d\cvarfv\,d\cvarsv.$$
</p>

<p>The key point to remember is that that we have to replace the $dA$ 
by $|\det \jacm{\cvarf}(\cvarfv,\cvarsv)|d\cvarfv\,d\cvarsv$.
You can think of $|\det \jacm{\cvarf}(\cvarfv,\cvarsv)|$ as the 
<i>area expansion factor</i> that captures how the mapping
$\cvarf$ is expanding (or compressing) the region $\dlr^*$ at each point
as it transforms $\dlr^*$ into $\dlr$.</p>


