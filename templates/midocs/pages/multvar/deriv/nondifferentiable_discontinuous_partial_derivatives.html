{% extends "midocs/page_base.html" %}{% load mi_tags %}{% block content %}
{% index_entry "differentiability" "theorem"%}
{% title "Non-differentiable functions must have discontinuous partial derivatives" %}
{% description "A visual tour demonstrating discontinuous partial derivatives of a non-differentiable function, as required by the differentiability theorem."%}


<p>According to the {% intlink differentiability_multivariable_theorem%}differentiability theorem{%endintlink%}, any {%intlink differentiability_multivariable_subtleties%}non-differentiable function with partial derivatives{%endintlink%} must have discontinuous partial derivatives.  (Otherwise, by {% intlink differentiability_multivariable_theorem%}the theorem{%endintlink%}, the function must be differentiable.)
For one of the {% intlink differentiability_multivariable_subtleties examplefunction %}example non-differentiable functions{%endintlink%}, let's see if we can visualize that indeed these partial derivatives were the problem.</p>

<p>The function we'll examine is
\begin{align*}
  f(x,y) = 
  \begin{cases}
    \displaystyle
    \frac{x^2y}{x^2+y^2} &amp; \text{if } (x,y) \ne (0,0)\\
    0 &amp; \text{if } (x,y) = (0.0).
  \end{cases}
\end{align*}
Its graph is shown below.</p>

{% boxedapplet nondifferentiable_function_partial_derivatives_2 %}

<p>If you stare at the above plot, you might be able to convince yourself that the partial derivatives are discontinuous at the origin.  
For example, along the line $y=0$ but away from the origin, the slope $\pdiff{f}{y}$ is a positive constant (in fact $\pdiff{f}{y}(x,0)=1$ for $x \ne 0$).
But, along the line $x=0$, the slope $\pdiff{f}{y}$ is zero.  
These two values clash at the origin, leading to a discontinuity of $\pdiff{f}{y}(x,y)$ at the origin $(0,0)$.
The partial derivative with respect to $x$, $\pdiff{f}{x}$, on the other hand, 
switches sign as you cross the line $x=0$.   As you approach the origin,
the switch happens faster, eventually switching with an instantaneous jump at the origin.
</p>

<p>The following applet allows you visualize the partial derivatives as slopes.
If you drag the point around the origin, you will see that the slopes jump, reflecting the fact that they are discontinuous.</p>

{% boxedapplet nondifferentiable_function_partial_derivatives_slopes %}

<p>An even better demonstration that the partial derivatives are indeed discontinuous is a plot of the partial derivative.  Below is a plot of partial derivative of $f(x,y)$ with respect to $x$.</p>

{% boxedapplet discontinuous_partial_x_derivative_nondifferentiable_function %}

<p>How can we be 100% sure that the $\pdiff{f}{x}$ is discontinuous at the origin?
Of course, such visualization are imperfect, and you never know if you are being mislead.  But, we can back up the picture with a calculation.
The partial derivatives of $f(x,y)$ are
\begin{align*}
  \pdiff{f}{x}(x,y) &amp;= 
  \begin{cases}
    \displaystyle
   \frac{2 x y}{x^2+y^2}-\frac{2 x^3
   y}{\left(x^2+y^2\right)^2} \ &amp; \text{if } (x,y) \ne (0,0)\\
    0 &amp; \text{if } (x,y) = (0.0).
  \end{cases}
  \\
  \pdiff{f}{y}(x,y) &amp;= 
  \begin{cases}
    \displaystyle
    \frac{x^2}{x^2+y^2}-\frac{2 x^2
   y^2}{\left(x^2+y^2\right)^2} \ &amp; \text{if } (x,y) \ne (0,0)\\
    0 &amp; \text{if } (x,y) = (0.0).
  \end{cases}.
\end{align*}
To calculate the partial derivatives away from the origin, we just used the usual rules for differentiation.  
At the origin, we had to use the {% intlink partial_derivative_limit_definition %}limit definition of partial derivatives{%endintlink%}, as shown on {%intlink differentiability_multivariable_subtleties examplefunction %}another page{%endintlink%}.</p>

<p>It's easy to see that the partial derivatives are zero along the $x$ and $y$ axes, as setting either $x=0$ or $y=0$ makes all the above expressions disappear.  
Focusing on the $x$-derivative, you can show that setting $y=x\sqrt{3}$ leads to a positive constant,
$$\pdiff{f}{x}(x,x\sqrt{3}) = \frac{3\sqrt{3}}{8} \approx 0.65,$$
as long as you stay away from the origin.
On the other hand, setting $y=-x\sqrt{3}$ lead to a negative constant
$$\pdiff{f}{x}(x,-x\sqrt{3}) = -\frac{3\sqrt{3}}{8} \approx -0.65.$$
</p>

<p>These four lines along which $\pdiff{f}{x}(x,y)$ is constant are overlaid on the graph shown below.  
Since all the lines go to the origin, they are a convincing demonstration that within any neighborhood of the origin, $\pdiff{f}{x}(x,y)$ takes on the values $0$, $\frac{3\sqrt{3}}{8}$, and  $-\frac{3\sqrt{3}}{8}$. 
We've obtained different values for the limit of $\pdiff{f}{x}(x,y)$ along paths going to the origin, demonstrating that $\pdiff{f}{x}(x,y)$ is discontinuous at the origin.</p>

{% boxedapplet discontinuous_partial_x_derivative_nondifferentiable_function_lines %}

<p>It's a good thing that the partial derivatives of $f(x,y)$ are discontinuous at the origin.  Otherwise, since $f(x,y)$ is {% intlink differentiability_multivariable_subtleties examplefunction %}non-differentiable{%endintlink%} at the origin, it would have contradicted the {% intlink differentiability_multivariable_theorem%}differentiability theorem{%endintlink%}.  Be sure to keep your logic straight, though, as the differentiability theorem does <b>not</b> imply that all differentiable functions have continuous partial derivatives, as shown by {% intlink differentiable_function_discontinuous_partial_derivatives %}this example{%endintlink%}.</p>


{%endblock%}
